<p-confirmDialog header="Confirmation" icon="pi pi-info" [style]="{width: '425px'}"
    rejectButtonStyleClass="ui-button-secondary"></p-confirmDialog>
<div class="p-grid">
    <div class="p-col-12">
        <div class="card card-w-title">
            <h1>Supplier</h1>
            <p-tabView>
                <p-tabPanel header="Supplier">
                    <form [formGroup]="addSupplierForm">

                        <div class="p-grid ui-fluid  p-justify-end mt-3">

                            <div class="p-col-12">
                                <div class="p-grid form-group">

                                    <div class="p-col-12 p-md-6 p-lg-3 mb-2">
                                        <label for="suppName">Supplier Name</label>
                                        <input id="suppName" class="form-control" formControlName="sSupName" type="text"
                                            pInputText>
                                        <p-message severity="error"
                                            [text]="addSupplierForm.controls['sSupName'].errors['required'] ? 'Supplier Name is required' : addSupplierForm.controls['sSupName'].errors"
                                            *ngIf="!addSupplierForm.controls['sSupName'].valid && addSupplierForm.controls['sSupName'].dirty">
                                        </p-message>
                                    </div>


                                    <div class="p-col-12 p-md-6 p-lg-3 mb-2">
                                        <label for="shotCode">Short Code</label>
                                        <input id="shotCode" class="form-control" type="text"
                                            formControlName="sShortCode" pInputText>
                                        <p-message severity="error"
                                            [text]="addSupplierForm.controls['sShortCode'].errors['required'] ? 'Short Code is required' : addSupplierForm.controls['sShortCode'].errors"
                                            *ngIf="!addSupplierForm.controls['sShortCode'].valid && addSupplierForm.controls['sShortCode'].dirty">
                                        </p-message>
                                    </div>

                                    <div class="p-col-12 p-md-6 p-lg-3 mb-2">
                                        <label for="legalEntity">Legal Entity ID</label>
                                        <input id="legalEntity" class="form-control" type="text"
                                            formControlName="iLegalEntityID" pInputText>
                                        <p-message severity="error"
                                            [text]="addSupplierForm.controls['iLegalEntityID'].errors['required'] ? 'Entity Id is required' : addSupplierForm.controls['iLegalEntityID'].errors"
                                            *ngIf="!addSupplierForm.controls['iLegalEntityID'].valid && addSupplierForm.controls['iLegalEntityID'].dirty">
                                        </p-message>
                                    </div>
                                    <div class="p-col-12 p-md-6 p-lg-3 mb-2">
                                        <label for="website">Website</label>
                                        <input id="website" class="form-control" type="text" formControlName="sWebsite"
                                            pInputText>
                                        <p-message severity="error"
                                            [text]="addSupplierForm.controls['sWebsite'].errors['required'] ? 'Website Name is required' : addSupplierForm.controls['sWebsite'].errors"
                                            *ngIf="!addSupplierForm.controls['sWebsite'].valid && addSupplierForm.controls['sWebsite'].dirty">
                                        </p-message>
                                    </div>

                                </div>
                                <div
                                    class="separator separator--border-solid separator--space-sm separator--portlet-fit">
                                </div>
                                <div class="p-grid form-group">
                                    <div class="p-col-12 p-md-6 p-lg-3 mb-2">
                                        <label for="telNo1">Tel No. 1</label>
                                        <input id="telNo1" class="form-control" type="text" formControlName="sTelNo1"
                                            pInputText>
                                        <p-message severity="error"
                                            [text]="addSupplierForm.controls['sTelNo1'].errors['required'] ? 'Telephone 1 is required' : addSupplierForm.controls['sTelNo1'].errors"
                                            *ngIf="!addSupplierForm.controls['sTelNo1'].valid && addSupplierForm.controls['sTelNo1'].dirty">
                                        </p-message>
                                    </div>
                                    <div class="p-col-12 p-md-6 p-lg-3 mb-2">
                                        <label for="telNo2">Tel No. 2</label>
                                        <input id="telNo2" class="form-control" type="text" formControlName="sTelNo2"
                                            pInputText>
                                        <p-message severity="error"
                                            [text]="addSupplierForm.controls['sTelNo2'].errors['required'] ? 'Telephone 2 is required' : addSupplierForm.controls['sTelNo2'].errors"
                                            *ngIf="!addSupplierForm.controls['sTelNo2'].valid && addSupplierForm.controls['sTelNo2'].dirty">
                                        </p-message>
                                    </div>
                                    <div class="p-col-12 p-md-6 p-lg-3 mb-2">
                                        <label for="fax">Fax</label>
                                        <input id="fax" class="form-control" type="text" formControlName="sFaxNo"
                                            pInputText>
                                        <p-message severity="error"
                                            [text]="addSupplierForm.controls['sFaxNo'].errors['required'] ? 'Fax Number is required' : addSupplierForm.controls['sFaxNo'].errors"
                                            *ngIf="!addSupplierForm.controls['sFaxNo'].valid && addSupplierForm.controls['sFaxNo'].dirty">
                                        </p-message>
                                    </div>
                                    <div class="p-col-12 p-md-6 p-lg-3 mb-2">
                                        <label for="pincode">Pan No.</label>
                                        <input id="pincode" class="form-control" type="text" formControlName="sPAN"
                                            pInputText>
                                        <p-message severity="error"
                                            [text]="addSupplierForm.controls['sPAN'].errors['required'] ? 'PAN Number is required' : addSupplierForm.controls['sPAN'].errors"
                                            *ngIf="!addSupplierForm.controls['sPAN'].valid && addSupplierForm.controls['sPAN'].dirty">
                                        </p-message>
                                    </div>
                                </div>

                                <div
                                    class="separator separator--border-solid separator--space-sm separator--portlet-fit">
                                </div>
                                <div class="p-grid form-group">

                                    <div class="p-col-12 p-md-6 p-lg-3 mb-2">
                                        <label for="status">Status</label>
                                        <p-dropdown id="status" class="form-control" [options]="statusData"
                                            formControlName="iStatusID" placeholder="Select" optionLabel="sKVValue"
                                            [(ngModel)]="selectedstatus" required="true"></p-dropdown>
                                        <p-message severity="error" text="select Status is required"
                                            *ngIf="addSupplierForm.controls['iStatusID'].touched && (selectedstatus.iKVID=='' || addSupplierForm.controls['iStatusID'].hasError('required'))">
                                        </p-message>
                                    </div>

                                </div>

                                <div
                                    class="separator separator--border-solid separator--space-sm separator--portlet-fit mt-5">
                                </div>
                                <div class="p-grid form-group ui-fluid p-justify-end mt-3">
                                    <div class="p-col-12 p-md-2 p-lg-1">
                                        <button pButton type="button" label="Cancel" routerLink="/app/supplier"
                                            style="margin-bottom:10px" class="ui-button-light"></button>
                                    </div>
                                    <div class="p-col-12 p-md-2 p-lg-1" *ngIf="!isEdit">
                                        <button pButton type="submit"
                                            [disabled]="!(!addSupplierForm.invalid && !dropDownValidityCheck())"
                                            (click)="addSupplier()" label="Save" style="margin-bottom:10px"
                                            class="ui-button"></button>
                                    </div>
                                    <div class="p-col-12 p-md-2 p-lg-1" *ngIf="isEdit">
                                        <button pButton type="submit"
                                            [disabled]="!(!addSupplierForm.invalid && !dropDownValidityCheck())"
                                            (click)="editSupplier()" label="Update" style="margin-bottom:10px"
                                            class="ui-button"></button>
                                    </div>
                                </div>

                            </div>


                        </div>
                    </form>
                </p-tabPanel>
                <!-- Supplier tab End here -->

                <!-- Address tab Starts here -->
                <p-tabPanel header="Address">
                    <div class="p-grid ui-fluid p-justify-end">
                        <div class="p-col-1 text-center mt-1">
                            <button (click)="openDialogForaddAddress()" pButton icon="pi pi-fw pi-plus"
                                label="Add New"></button>

                        </div>
                        <div class="p-col-12"> 
                            <p-table #AddressSerach [value]="supplierAdressData" [paginator]="true" [rows]="10"
                            [showCurrentPageReport]="true" [rowsPerPageOptions]="[10, 25, 50]" [filterDelay]="0"
                            [globalFilterFields]="[
                              'sAddType','sAdd1','sAdd2','sStateName','sCityName','sLandmark','iStatusID'
                            ]">
                            <ng-template pTemplate="caption">
                                <div class="ui-table-globalfilter-container text-left">
                                <input type="text" pInputText size="50" placeholder="Search"
                                  (input)="AddressSerach.filterGlobal($event.target.value, 'contains')" style="width:250px;">
                              </div>
                            </ng-template>
                                <ng-template pTemplate="header">
                                    <tr>
                                        <th>Address Type</th>
                                        <th>Address 1</th>
                                        <th>Address 2</th>
                                        <th>State</th>
                                        <th>City</th>
                                        <th>Landmark</th>
                                        <th>Status</th>
                                        <th>Action</th>
                                    </tr>
                                </ng-template>
                                <ng-template pTemplate="body" let-address>
                                    <tr>
                                        <td>{{address.sAddType}}</td>
                                        <td>{{address.sAdd1}}</td>
                                        <td>{{address.sAdd2}}</td>
                                        <td>{{address.sStateName}}</td>
                                        <td>{{address.sCityName}}</td>
                                        <td>{{address.sLandmark}}</td>
                                        <td style="text-align: center;">
                                            <span *ngIf="address.iStatusID == 1" class="badge badge--success badge--inline badge--pill">
                                              Active
                                            </span>
                                            <span *ngIf="address.iStatusID == 2" class="badge badge--warning badge--inline badge--pill">
                                              Inactive
                                            </span>
                                            <span *ngIf="address.iStatusID == 3" class="badge badge--danger badge--inline badge--pill">
                                              Deleted
                                            </span>
                                          </td>
                                        <td><button pButton type="button" class="ui-button-success" (click)="editSupplierAddress(address.iSupAddID)" icon="pi pi-pencil" style="margin-right: .5em"></button>
                                         <button pButton type="button" class="ui-button-danger" (click)="deleteSupplierAddress(address.iSupAddID)" icon="pi pi-trash"></button></td>
                                    </tr>
                                </ng-template>
                            </p-table>
                        </div>
                    </div>
                </p-tabPanel>
                <!-- Address tab End here -->

                <p-tabPanel header="Contact">
                    <div class="p-grid ui-fluid p-justify-end">
                        <div class="p-col-1 text-center mt-1">
                            <button (click)="openDialogForaddContact()" pButton icon="pi pi-fw pi-plus"
                                label="Add / Edit"></button>

                        </div>
                        <div class="p-col-12">
                            <p-table [value]="contact">
                                <ng-template pTemplate="caption">

                                    <div class="ui-table-globalfilter-container text-left">
                                        <input type="text" pInputText size="50" placeholder="Search"
                                            (input)="dt.filterGlobal($event.target.value, 'contains')"
                                            style="width:250px;">
                                    </div>
                                </ng-template>
                                <ng-template pTemplate="header">
                                    <tr>
                                        <th>Full Name</th>
                                        <th>Designation</th>
                                        <th>Email ID</th>
                                        <th>Supplier Address</th>
                                        <th>Mobile No.</th>
                                        <th>Contact No.</th>
                                        <th>Direct No.</th>
                                        <th>Fax No.</th>
                                        <th>Status</th>
                                        <th>Action</th>

                                    </tr>
                                </ng-template>
                                <ng-template pTemplate="body" let-contact>
                                    <tr>
                                        <td>{{contact.fullName}}</td>
                                        <td>{{contact.designation}}</td>
                                        <td>{{contact.emailId}}</td>
                                        <td>{{contact.supplierAdd}}</td>
                                        <td>{{contact.mobileNo}}</td>
                                        <td>{{contact.contactNo}}</td>
                                        <td>{{contact.directNo}}</td>
                                        <td>{{contact.fax}}</td>
                                        <td>{{contact.status}}</td>
                                        <td>
                                            <button pButton type="button" class="ui-button-success" icon="pi pi-pencil"
                                                style="margin-right: .5em"></button>
                                            <button pButton type="button" class="ui-button-danger"
                                                icon="pi pi-trash"></button>
                                        </td>
                                    </tr>
                                </ng-template>
                            </p-table>
                        </div>
                    </div>
                </p-tabPanel>
                <!-- Contact Info tab End here -->

                <p-tabPanel header="Bank">
                    <div class="p-grid ui-fluid p-justify-end">
                        <div class="p-col-1 text-center mt-1">
                            <button (click)="openDialogForBank()" pButton icon="pi pi-fw pi-plus"
                                label="Add New"></button>
                        </div>
                        <div class="p-col-12">
                            <p-table [value]="bank">
                                <ng-template pTemplate="header">
                                    <tr>
                                        <th>Bank Name</th>
                                        <th>Short Code/Account Type</th>
                                        <th>Account No.</th>
                                        <th>IFSC</th>
                                        <th>Bank Branch</th>
                                        <th>Status</th>
                                        <th>Action</th>
                                    </tr>
                                </ng-template>
                                <ng-template pTemplate="body" let-bank>
                                    <tr>
                                        <td>{{bank.bankName}}</td>
                                        <td>{{bank.accounttype}}</td>
                                        <td>{{bank.accountNo}}</td>
                                        <td>{{bank.IFSC}}</td>
                                        <td>{{bank.bankBranch}}</td>
                                        <td>{{bank.status}}</td>
                                        <td>
                                            <button pButton type="button" class="ui-button-success" icon="pi pi-pencil"
                                                style="margin-right: .5em"></button>
                                            <button pButton type="button" class="ui-button-danger"
                                                icon="pi pi-trash"></button>
                                        </td>
                                    </tr>
                                </ng-template>
                            </p-table>
                        </div>
                    </div>
                </p-tabPanel>
                <!-- Bank tab End here -->


                <p-tabPanel header="GST">
                    <div class="p-grid ui-fluid p-justify-end">
                        <div class="p-col-1 text-center mt-1">
                            <button (click)="openDialogForGST()" pButton icon="pi pi-fw pi-plus"
                                label="Add New"></button>
                        </div>
                        <div class="p-col-12">
                            <p-table [value]="gst">
                                <ng-template pTemplate="header">
                                    <tr>
                                        <th>State</th>
                                        <th>GST</th>

                                        <th>Action</th>
                                    </tr>
                                </ng-template>
                                <ng-template pTemplate="body" let-gst>
                                    <tr>
                                        <td style="text-align: center;">{{gst.sStateName}}</td>
                                        <td style="text-align: center;">{{gst.sGST}}</td>

                                        <td style="text-align: center;">
                                            <button pButton type="button" (click)="editDialogForGST(gst)"
                                                class="ui-button-success" icon="pi pi-pencil"
                                                style="margin-right: .5em"></button>
                                            <button pButton type="button" (click)="deletesupgst(gst)"
                                                class="ui-button-danger" icon="pi pi-trash"></button>
                                        </td>
                                    </tr>
                                </ng-template>
                            </p-table>
                        </div>
                    </div>
                </p-tabPanel>
                <!-- GST Info tab End here -->

                <p-tabPanel header="Category Mapping">
                    <h2>Food Type</h2>
                    <div class="p-grid p-justify-center mt-3">

                        <div class="p-col-12 p-md-6 p-lg-4">
                            <div class="card bg-dark prcat-shdw border-light">
                                <p-checkbox name="VNS" value="Vitamin & Supplements" label="Vitamin & Supplements"
                                    [(ngModel)]="checkboxValues"></p-checkbox>
                            </div>
                        </div>

                        <div class="p-col-12 p-md-6 p-lg-4">
                            <div class="card bg-success prcat-shdw border-light">
                                <p-checkbox name="GRN" value="Food - Supplements" label="Grains"
                                    [(ngModel)]="checkboxValues"></p-checkbox>
                            </div>
                        </div>

                        <div class="p-col-12 p-md-6 p-lg-4">
                            <div class="card bg-dark prcat-shdw border-light">
                                <p-checkbox name="MND" value="Milk & Dairy" label="Milk & Dairy"
                                    [(ngModel)]="checkboxValues"></p-checkbox>
                            </div>
                        </div>

                        <div class="p-col-12 p-md-6 p-lg-4">
                            <div class="card bg-dark prcat-shdw border-light">
                                <p-checkbox name="VEG" value="Vegetables" label="Vegetables"
                                    [(ngModel)]="checkboxValues"></p-checkbox>
                            </div>
                        </div>

                        <div class="p-col-12 p-md-6 p-lg-4">
                            <div class="card bg-dark prcat-shdw border-light">
                                <p-checkbox name="FRT" value="Fruits" label="Fruits" [(ngModel)]="checkboxValues">
                                </p-checkbox>
                            </div>
                        </div>

                        <div class="p-col-12 p-md-6 p-lg-4">
                            <div class="card bg-success prcat-shdw border-light">
                                <p-checkbox name="COL" value="Cooking Oil" label="Cooking Oil"
                                    [(ngModel)]="checkboxValues" selected></p-checkbox>
                            </div>
                        </div>

                    </div>

                    <div class="separator separator--border-solid separator--space-sm separator--portlet-fit mt-5">
                    </div>

                    <h2>Health Condition</h2>
                    <div class="p-grid p-justify-center mt-3">

                        <div class="p-col-12 p-md-6 p-lg-4">
                            <div class="card bg-dark prcat-shdw border-light">
                                <p-checkbox name="WTL" value="Weigth Loss" label="Weigth Loss"
                                    [(ngModel)]="checkboxValues"></p-checkbox>
                            </div>
                        </div>

                        <div class="p-col-12 p-md-6 p-lg-4">
                            <div class="card bg-success prcat-shdw border-light">
                                <p-checkbox name="IMU" value="Immunity" label="Immunity" [(ngModel)]="checkboxValues">
                                </p-checkbox>
                            </div>
                        </div>

                        <div class="p-col-12 p-md-6 p-lg-4">
                            <div class="card bg-dark prcat-shdw border-light">
                                <p-checkbox name="DIB" value="Diabetes" label="Diabetes" [(ngModel)]="checkboxValues">
                                </p-checkbox>
                            </div>
                        </div>

                        <div class="p-col-12 p-md-6 p-lg-4">
                            <div class="card bg-dark prcat-shdw border-light">
                                <p-checkbox name="THD" value="Thyroid" label="Thyroid" [(ngModel)]="checkboxValues">
                                </p-checkbox>
                            </div>
                        </div>

                        <div class="p-col-12 p-md-6 p-lg-4">
                            <div class="card bg-dark prcat-shdw border-light">
                                <p-checkbox name="STR" value="Stress" label="Stress" [(ngModel)]="checkboxValues">
                                </p-checkbox>
                            </div>
                        </div>

                        <div class="p-col-12 p-md-6 p-lg-4">
                            <!-- <div class="card bg-success prcat-shdw">
                                 <p-checkbox name="HCWL" value="Health Concern - Weight Loss" label="Health Concern - Weight Loss" [(ngModel)]="checkboxValues" selected></p-checkbox>
                             </div> -->
                        </div>

                    </div>
                </p-tabPanel>
                <!-- category mapping Info tab End here -->
            </p-tabView>
        </div>
    </div>
</div>